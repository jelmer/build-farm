#!/bin/bash

# This script converts log files produced by CVS into Perl DataDumper
# files that can be easily loaded by the buildfarm web interface.

#cd $HOME/master || exit 1

(

./gitlog.pl /data/git/ppp.git/ 60 master cache/history.ppp
./gitlog.pl /data/git/ccache.git/ 60 master cache/history.ccache
./gitlog.pl /data/git/rsync.git/ 60 master cache/history.rsync
./gitlog.pl /data/git/samba.git/ 60 v3-5-test cache/history.samba_3_current
./gitlog.pl /data/git/samba.git/ 60 v3-6-test cache/history.samba_3_next
./gitlog.pl /data/git/samba.git/ 60 master cache/history.samba_3_master
./gitlog.pl /data/git/samba.git/ 60 master cache/history.samba_4_0_test
./gitlog.pl /data/git/samba.git/ 60 master cache/history.samba_4_0_waf
./gitlog.pl /data/git/samba.git/ 60 master cache/history.libreplace lib/replace
./gitlog.pl /data/git/samba.git/ 60 master cache/history.talloc lib/talloc
./gitlog.pl /data/git/samba.git/ 60 master cache/history.tdb lib/tdb
./gitlog.pl /data/git/samba.git/ 60 master cache/history.ldb source4/lib/ldb
./gitlog.pl /data/git/samba.git/ 60 master cache/history.pidl pidl

./gitlog.pl /data/git/ctdb.git/ 60 master cache/history.ctdb
./gitlog.pl /data/git/build-farm.git/ 60 master cache/history.build_farm
./gitlog.pl /data/git/samba-web.git/ 60 master cache/history.samba-web

) > history.log 2>&1
